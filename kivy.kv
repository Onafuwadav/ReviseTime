<addDate>:
    on_enter: root.on_start()
    MDFloatLayout:
        md_bg_color: 1, 1, 1, 1
        MDIconButton:
            icon: "chevron-left"
            user_font_size: "40sp"
            pos_hint: {"center_y": .95}
            theme_text_color: "ContrastParentBackground"
            text_color: 1, 170/255, 23/255, 1
            on_release:
                app.root.transition.direction = "right"
                app.root.current = "testDates"
        MDLabel
            text: "Add Deadline"
            pos_hint: {"center_x": .6, "center_y": .88}
            font_name: "Poppins-SemiBold.ttf"
            font_size: "35sp"
        MDFloatLayout:
            size_hint: .65, .08
            pos_hint: {"center_x": .5, "center_y": .78}
            canvas:
                Color:
                    rgb: (238/255, 238/255, 238/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]
            TextInput:
                id: title
                hint_text: "Title"
                size_hint: 1, None
                pos_hint: {"center_x": .6, "center_y": .5}
                height: self.minimum_height
                multiline: False
                cursor_color: 1, 170/255, 23/255, 1
                cursor_width: "2sp"
                foreground_color: 1, 170/255, 23/255, 1
                background_color: 0, 0, 0, 0
                padding: 15
                font_name: "Poppins-Regular.ttf"
                font_size: "18sp"
        Button:
            text: "ADD DATE"
            size_hint: .45, .08
            pos_hint: {"center_x": .5, "center_y": .66}
            background_color: 0, 0, 0, 0
            font_name: "Poppins-SemiBold.ttf"
            font_size: "18sp"
            color: 1, 1, 1, 1
            on_release:
                root.datepicker()
            canvas.before:
                Color:
                    rgb: (1, 170/255, 23/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]
        Button:
            id: btn
            text: "ADD DEADLINE"
            size_hint: .45, .08
            pos_hint: {"center_x": .5, "center_y": .56}
            background_color: 0, 0, 0, 0
            font_name: "Poppins-SemiBold.ttf"
            font_size: "18sp"
            color: 1, 1, 1, 1
            on_release:
                root.add_todo(title.text)
            canvas.before:
                Color:
                    rgb: (1, 170/255, 23/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]


<DateCard>:
    elevation: 10
    md_bg_color: 1, 1, 1, 1
    radius: [8]
    size_hint_y: .1
    MDFloatLayout:
        id: bar
        size_hint: .01, .9
        pos_hint: {"center_x": .02, "center_y": .5}
        md_bg_color: 1, 170/225, 23/225, 1
    MDLabel:
        id: title
        text: root.title
        markup: True
        font_name: "Poppins-SemiBold.ttf"
        font_size: "20sp"
        size_hint_x: .8
        pos_hint: {"center_x": .46, "center_y": .8}
    MDCheckbox:
        size_hint: None, None
        size: "48dp", "48dp"
        unselected_color: 1, 170/225, 23/225, 1
        selected_color: 0, 179/255, 0, 1
        pos_hint: {"center_x": .95, "center_y": .8}
        on_active: root.on_complete(*args, description, bar, title)
    MDLabel:
        id: description
        text: root.description
        font_name: "Poppins-Regular.ttf"
        markup: True
        size_hint_x: .9
        line_height: .8
        pos_hint: {"center_x": .51, "center_y": .4}

<TestDates>:
    on_enter: root.on_start()
    date: date
    todo_list: todo_list
    id: todo_list
    MDFloatLayout:
        md_bg_color: 1, 1, 1, 1
        MDLabel:
            text: "My Deadlines"
            pos_hint: {"center_x": .60, "center_y": .97}
            font_name: "Poppins-SemiBold.ttf"
            font_size: "35sp"
        MDLabel:
            id: date
            text: ""
            pos_hint: {"center_x": .60, "center_y": .92}
            font_name: "Poppins-Regular.ttf"
            font_size: "18sp"
        MDIconButton:
            icon: "plus"
            pos_hint: {"center_x": .89, "center_y": .925}
            user_font_size: "30sp"
            md_bg_color: 1, 170/255, 23/3255, 1
            theme_text_color: "ContrastParentBackground"
            text_color: 1, 1, 1, 1
            on_release:
                root.remove()
                app.root.current = 'add_date'
                app.root.transition.direction = "left"
        ScrollView:
            do_scroll_y: True
            do_scroll_x: False
            size_hint_y: .85
            pos_hint: {"center_x": .5, "y": 0}
            bar_width: 0
            GridLayout:
                id: todo_list
                cols: 1
                height: self.minimum_height
                row_default_height: 80
                size_hint_y: None
                padding: 15, 10
                spacing: 15, 10
    RelativeLayout:
        Spinner:
            id: Spinner
            size_hint: [0.1, 0.05]
            pos_hint: {'left': 1, 'top': 1}
            text: 'Input Test Dates'
            values: ['Main Menu','Settings', 'Timer', 'Weekly Timetable']
            on_text:
                if Spinner.text == 'Main Menu': \
                app.root.current = 'menu'
                if Spinner.text == 'Settings': \
                app.root.current = 'settings'
                if Spinner.text == 'Timer': \
                app.root.current = 'Timer_screen'
                if Spinner.text == 'Weekly Timetable': \
                app.root.current = 'weeklyTimetable'





<addTodo>:
    on_enter: root.on_start()
    MDFloatLayout:
        md_bg_color: 1, 1, 1, 1
        MDIconButton:
            icon: "chevron-left"
            user_font_size: "40sp"
            pos_hint: {"center_y": .95}
            theme_text_color: "ContrastParentBackground"
            text_color: 1, 170/255, 23/255, 1
            on_release:
                app.root.transition.direction = "right"
                app.root.current = "todo"
        MDLabel
            text: "Add Task"
            pos_hint: {"center_x": .6, "center_y": .88}
            font_name: "Poppins-SemiBold.ttf"
            font_size: "35sp"
        MDFloatLayout:
            size_hint: .85, .08
            pos_hint: {"center_x": .5, "center_y": .78}
            canvas:
                Color:
                    rgb: (238/255, 238/255, 238/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]
            TextInput:
                id: title
                hint_text: "Title"
                size_hint: 1, None
                pos_hint: {"center_x": .6, "center_y": .5}
                height: self.minimum_height
                multiline: False
                cursor_color: 1, 170/255, 23/255, 1
                cursor_width: "2sp"
                foreground_color: 1, 170/255, 23/255, 1
                background_color: 0, 0, 0, 0
                padding: 15
                font_name: "Poppins-Regular.ttf"
                font_size: "18sp"
        MDFloatLayout:
            size_hint: .85, .28
            pos_hint: {"center_x": .5, "center_y": .57}
            canvas:
                Color:
                    rgb: (238/255, 238/255, 238/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]
            TextInput:
                id: description
                hint_text: "Description"
                size_hint: 1, None
                pos_hint: {"center_x": .6, "center_y": .5}
                height: 180
                multiline: False
                cursor_color: 1, 170/255, 23/255, 1
                cursor_width: "2sp"
                foreground_color: 1, 170/255, 23/255, 1
                background_color: 0, 0, 0, 0
                padding: 15
                font_name: "Poppins-Regular.ttf"
                font_size: "18sp"
        Button:
            text: "ADD DATE"
            size_hint: .45, .08
            pos_hint: {"center_x": .5, "center_y": .36}
            background_color: 0, 0, 0, 0
            font_name: "Poppins-SemiBold.ttf"
            font_size: "18sp"
            color: 1, 1, 1, 1
            on_release:
                root.datepicker()
            canvas.before:
                Color:
                    rgb: (1, 170/255, 23/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]
        Button:
            id: btn
            text: "ADD TASK"
            size_hint: .45, .08
            pos_hint: {"center_x": .5, "center_y": .26}
            background_color: 0, 0, 0, 0
            font_name: "Poppins-SemiBold.ttf"
            font_size: "18sp"
            color: 1, 1, 1, 1
            on_release:
                root.add_todo(title.text, description.text)
            canvas.before:
                Color:
                    rgb: (1, 170/255, 23/255, 1)
                RoundedRectangle:
                    size: self.size
                    pos: self.pos
                    radius: [25]

<TodoCard>:
    elevation: 10
    md_bg_color: 1, 1, 1, 1
    radius: [8]
    size_hint_y: .1
    MDFloatLayout:
        id: bar
        size_hint: .01, .9
        pos_hint: {"center_x": .02, "center_y": .5}
        md_bg_color: 1, 170/225, 23/225, 1
    MDLabel:
        id: title
        text: root.title
        markup: True
        font_name: "Poppins-SemiBold.ttf"
        font_size: "20sp"
        size_hint_x: .8
        pos_hint: {"center_x": .46, "center_y": .8}
    MDCheckbox:
        size_hint: None, None
        size: "48dp", "48dp"
        unselected_color: 1, 170/225, 23/225, 1
        selected_color: 0, 179/255, 0, 1
        pos_hint: {"center_x": .95, "center_y": .8}
        on_active: root.on_complete(*args, description, bar, title)
    MDLabel:
        id: description
        text: root.description
        font_name: "Poppins-Regular.ttf"
        markup: True
        size_hint_x: .9
        line_height: .8
        pos_hint: {"center_x": .51, "center_y": .4}

<TodoScreen>:
    on_enter: root.on_start()
    date: date
    todo_list: todo_list
    id: todo_list
    MDFloatLayout:
        md_bg_color: 1, 1, 1, 1
        MDLabel:
            text: "My Tasks"
            pos_hint: {"center_x": .54, "center_y": .95}
            font_name: "Poppins-SemiBold.ttf"
            font_size: "35sp"
        MDLabel:
            id: date
            text: ""
            pos_hint: {"center_x": .54, "center_y": .89}
            font_name: "Poppins-Regular.ttf"
            font_size: "18sp"
        MDIconButton:
            icon: "chevron-left"
            user_font_size: "40sp"
            pos_hint: {"center_y": .95}
            theme_text_color: "ContrastParentBackground"
            text_color: 1, 170/255, 23/255, 1
            on_release:
                root.remove()
                app.root.transition.direction = "right"
                app.root.current = "menu"
        MDIconButton:
            icon: "plus"
            pos_hint: {"center_x": .89, "center_y": .925}
            user_font_size: "30sp"
            md_bg_color: 1, 170/255, 23/3255, 1
            theme_text_color: "ContrastParentBackground"
            text_color: 1, 1, 1, 1
            on_release:
                root.remove()
                app.root.current = 'add_todo'
                app.root.transition.direction = "left"
        ScrollView:
            do_scroll_y: True
            do_scroll_x: False
            size_hint_y: .85
            pos_hint: {"center_x": .5, "y": 0}
            bar_width: 0
            GridLayout:
                id: todo_list
                cols: 1
                height: self.minimum_height
                row_default_height: 80
                size_hint_y: None
                padding: 15, 10
                spacing: 15, 10

<Settings_Screen>:
    MDFloatLayout:
        md_bg_color: 1, 1, 1, 1
        Spinner:
            id: Spinner
            size_hint: [0.1, 0.05]
            pos_hint: {'left': 1, 'top': 1}
            text: 'Settings'
            values: ['Main Menu', 'Timer', 'Weekly Timetable', 'Input Test Dates']
            on_text:
                if Spinner.text == 'Main Menu': \
                app.root.current = 'menu'
                if Spinner.text == 'Timer': \
                app.root.current = 'Timer_screen'
                if Spinner.text == 'Weekly Timetable': \
                app.root.current = 'weeklyTimetable'
                if Spinner.text == 'Input Test Dates': \
                app.root.current = 'testDates'

<Timers>:
    RelativeLayout:
        canvas.before:
            Color:
                rgba: 223/255, 103/255, 140/255, 1
            Rectangle:
                pos: self.pos
                size: self.size
        Spinner:
            id: Spinner
            size_hint: [0.1, 0.05]
            pos_hint: {'left': 1, 'top': 1}
            text: 'Timer'
            values: ['Main Menu','Settings', 'Weekly Timetable', 'Input Test Dates']
            on_text:
                if Spinner.text == 'Main Menu': \
                app.root.current = 'menu'
                if Spinner.text == 'Settings': \
                app.root.current = 'settings'
                if Spinner.text == 'Weekly Timetable': \
                app.root.current = 'weeklyTimetable'
                if Spinner.text == 'Input Test Dates': \
                app.root.current = 'testDates'
        Label:
            id: label1
            text: 'hi'
            size_hint: [0.3, 0.5]
            pos_hint: {'center_x': 0.5, 'center_y': 0.7}

<MainMenu>:
    on_enter: self.datatable()
    RelativeLayout:
        canvas.before:
            Color:
                rgba: 223/255, 103/255, 140/255, 1
            Rectangle:
                pos: self.pos
                size: self.size
        Label:
            id: quote

        Button:
            pos_hint: {'right': 1, 'top': 1}
            size_hint: [0.05, 0.05]
            text: 'To-Do list '
            on_press:
                app.root.current = 'todo'
                app.root.transition.direction = "left"

        Spinner:
            id: Spinner
            size_hint: [0.1, 0.05]
            pos_hint: {'left': 1, 'top': 1}
            text: 'Main Menu'
            values: ['Settings', 'Timer', 'Weekly Timetable', 'Input Test Dates']
            on_text:
                if Spinner.text == 'Settings': \
                app.root.current = 'settings'
                if Spinner.text == 'Timer': \
                app.root.current = 'Timer_screen'
                if Spinner.text == 'Weekly Timetable': \
                app.root.current = 'weeklyTimetable'
                if Spinner.text == 'Input Test Dates': \
                app.root.current = 'testDates'

<WeeklyTimetable>:
    on_enter: self.datatable()
    RelativeLayout:
        canvas.before:
            Color:
                rgba: 223/255, 103/255, 140/255, 1
            Rectangle:
                pos: self.pos
                size: self.size
        Spinner:
            id: Spinner
            size_hint: [0.1, 0.05]
            pos_hint: {'left': 1, 'top': 1}
            text: 'Weekly Timetable'
            values: ['Main Menu','Settings', 'Timer', 'Input Test Dates']
            on_text:
                if Spinner.text == 'Main Menu': \
                app.root.current = 'menu'
                if Spinner.text == 'Settings': \
                app.root.current = 'settings'
                if Spinner.text == 'Timer': \
                app.root.current = 'Timer_screen'
                if Spinner.text == 'Input Test Dates': \
                app.root.current = 'testDates'

<StartScreen>:
    orientation: "vertical"
    FloatLayout:
        canvas.before:
            Color:
                rgba: 223/255, 103/255, 140/255, 1
            Rectangle:
                pos: self.pos
                size: self.size
        BoxLayout:
            pos_hint: {"center_x": 0.5, "center_y": 1}
            size_hint: [1, 0.8]
            canvas.before:
                Color:
                    rgba: 61/255, 21/255, 95/255, 1
                RoundedRectangle:
                    pos: self.pos
                    size: self.size
                    radius: [0, 0, 40, 40]
        BoxLayout:
            size_hint: [0.6, 0.7]
            pos_hint: {"center_x": 0.5, "center_y": 0.5}
            MDCard:
                orientation: "vertical"
                BoxLayout:
                    orientation: "vertical"
                    Label:
                        text: "[color=000000]ReviseTime[/color]"
                        markup: True
                        text_size: self.size
                        font_size: 35
                        bold: True
                        halign: 'center'
                        valign: 'middle'
                    AnchorLayout:
                        anchor_x: 'center'
                        anchor_y: 'center'
                        Image:
                            source: 'images/img1.jpg'
                            size_hint: None, None
                    MDTextField:
                        id: email
                        icon_left: "email"
                        hint_text: "E-mail"
                        required: True
                        helper_text_mode: "on_error"
                        helper_text: "Email is required"
                        size_hint_x: 0.8
                        write_tab: False
                        pos_hint: {"center_x": 0.5}
                    MDTextField:
                        id: passwd
                        hint_text: "Password"
                        required: True
                        helper_text_mode: "on_error"
                        helper_text: "Password is required"
                        size_hint_x: 0.8
                        write_tab: False
                        pos_hint: {"center_x": 0.5}
                        password: True
                        on_text_validate:
                            if app.signin(self) == True: \
                            app.root.current = "menu"
                    BoxLayout:
                        orientation: "vertical"
                        MDFillRoundFlatButton:
                            text: "SIGN IN"
                            size_hint_x: 0.8
                            pos_hint: {"center_x": 0.5}
                            on_release:
                                if app.signin(self) == True: \
                                app.root.current = "menu"
                        MDRectangleFlatButton:
                            text: "Don't have an account?"
                            pos_hint: {"center_x": 0.5}
                            on_release: app.signup()


<SignUpScreen>:
    orientation: "vertical"
    spacing: "12dp"
    size_hint_y: None
    height: "250dp"
    MDLabel:
        text: ""
        theme_text_color: "Error"
        halign: "center"
        font_size: 12
        id: error
    MDTextField:
        id: forename
        required: True
        helper_text_mode: "on_error"
        helper_text: "Forename is required"
        write_tab: False
        hint_text: "Forename"

    MDTextField:
        id: email
        required: True
        helper_text_mode: "on_error"
        helper_text: "Email is required"
        write_tab: False
        hint_text: "Email"

    MDTextField:
        id: password
        required: True
        helper_text: "Must be 8 characters"
        write_tab: False
        hint_text: "Password"
        helper_text_mode: "on_focus"

    MDTextField:
        id: password2
        required: True
        helper_text_mode: "on_error"
        helper_text: "Password is required"
        write_tab: False
        hint_text: "Re-enter password"
        password: True
        on_text_validate: app.next_page(self)

<SignUpScreen2>:
    orientation: "vertical"
    spacing: "12dp"
    size_hint_y: None
    height: "400dp"
    MDLabel:
        text: ""
        theme_text_color: "Error"
        halign: "center"
        font_size: 12
        id: error

    MDTextField:
        id: HL1
        required: True
        helper_text_mode: "on_error"
        helper_text: "Enter subject"
        write_tab: False
        hint_text: "Higher Level subject 1"

    MDTextField:
        id: HL2
        required: True
        helper_text_mode: "on_error"
        helper_text: "Enter subject"
        write_tab: False
        hint_text: "Higher Level subject 2"

    MDTextField:
        id: HL3
        required: True
        helper_text_mode: "on_error"
        helper_text: "Enter subject"
        write_tab: False
        hint_text: "Higher Level subject 3"

    MDTextField:
        id: SL1
        required: True
        helper_text_mode: "on_error"
        helper_text: "Enter subject"
        write_tab: False
        hint_text: "Standard Level subject 1"

    MDTextField:
        id: SL2
        required: True
        helper_text_mode: "on_error"
        helper_text: "Enter subject"
        write_tab: False
        hint_text: "Standard Level subject 2"

    MDTextField:
        id: SL3
        required: True
        helper_text_mode: "on_error"
        helper_text: "Enter subject"
        write_tab: False
        hint_text: "Standard Level subject 3"
        on_text_validate: app.create_account(self)